<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Chicago Routle</title>

    <link rel="stylesheet" href="./style.css">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<script src="https://unpkg.com/leaflet-providers@latest/leaflet-providers.js"></script>

</head>
<body>
    <div class="container">
        <header class="masthead">
            <div class="masthead__left">
                <h1 class="brand">Routle</h1>
                <p class="subtitle">You have 5 tries to guess the CTA Bus Route!</p>
            </div>
            <div class="masthead__right">
                <div class="meta-label">Daily Game</div>
                <div id="game-date" class="meta-date">â€”</div>
            </div>
        </header>

        <main class="stage">
            <div id="map" class="map"></div>
            <!-- <select id="routeSelect" class="route-select" aria-label="Choose route"></select> -->
        </main>

        <section class="guess-ui">
            <form id="guessForm" autocomplete="off">
                <input
                id="routeSearch"
                class="route-search"
                type="text"
                placeholder="Search CTA route (e.g., 22 Clark)"
                list="routesList"
                aria-label="Search CTA route"
                required
                />
                <datalist id="routesList"></datalist>
                <button class="guess-btn" type="submit">Guess</button>
            </form>

            <div id="guesses" class="guess-bars">
                <div class="guess-bar" data-index="0"></div>
                <div class="guess-bar" data-index="1"></div>
                <div class="guess-bar" data-index="2"></div>
                <div class="guess-bar" data-index="3"></div>
                <div class="guess-bar" data-index="4"></div>
            </div>
        </section>
        <div id="debug-target" style="text-align:center; margin-top:8px; font-weight:bold; color:#2A518A;"></div>
    </div>

    <script src="./map_display.js"></script>
    <script>
        // Populate the right-side date as M/D like the screenshot
        const d = new Date();
        const mm = String(d.getMonth()+1);
        const dd = String(d.getDate());
        document.getElementById('game-date').textContent = `${mm}/${dd}`;
  </script>
  <script src="./game_logic.js"></script>
</body>
